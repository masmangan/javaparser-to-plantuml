@startuml "class-diagram"

mainframe class diagram (cd)

hide empty members

!theme blueprint
!pragma useIntermediatePackages false

left to right direction

' Diagram generated by ASSIS (0.9.4-SNAPSHOT).
' https://github.com/masmangan/assis


~enum "E" { /' @assis:begin enum "E" '/
  A
  B
} /' @assis:end enum "E" '/

~class "Hello" { /' @assis:begin class "Hello" '/
} /' @assis:end class "Hello" '/

~interface "I" { /' @assis:begin interface "I" '/
} /' @assis:end interface "I" '/

~annotation "MyAnnotation" <<Retention>> <<Target>> { /' @assis:begin annotation "MyAnnotation" '/
  level() : int = 1
  value() : String
} /' @assis:end annotation "MyAnnotation" '/

+class "WithArrayField" { /' @assis:begin class "WithArrayField" '/
  -  values : int[]
} /' @assis:end class "WithArrayField" '/

+class "WithArrayParameter" { /' @assis:begin class "WithArrayParameter" '/
  + process(names : String[]) : void
} /' @assis:end class "WithArrayParameter" '/

+class "WithMultiArray" { /' @assis:begin class "WithMultiArray" '/
  -  matrix : String[][]
} /' @assis:end class "WithMultiArray" '/

package "io.github.masmangan.assis" { /' @assis:begin package "io.github.masmangan.assis" '/
  
  ~class "io.github.masmangan.assis.CollectRelationshipsVisitor" { /' @assis:begin class "io.github.masmangan.assis.CollectRelationshipsVisitor" '/
    - {static} CHAR_INNER_TYPE_SEPARATOR : char {final}
    - {static} CHAR_PACKAGE_SEPARATOR : char {final}
    ~ <<create>> CollectRelationshipsVisitor(idx : DeclaredIndex, pw : PlantUMLWriter)
    - ownerFqnOf(fqn : String) : String {static}
    - rawNameOf(type : Type) : String
    - resolveAssocTarget(pkg : String, ownerFqn : String, type : Type) : String
    - stereotypesToString(p : Parameter) : String
    - peelArrays(type : Type) : Type {static}
    ~ emitAll() : void
    - emitAssociation(ownerFqn : String, targetFqn : String, role : String, stereotypes : String) : void
    - emitAssociationRelations() : void
    - emitAssociations(pkg : String, ownerFqn : String, td : TypeDeclaration<?>) : void
    - emitExtends(pkg : String, subFqn : String, ext : ClassOrInterfaceType) : void
    - emitExtendsImplements(pkg : String, subFqn : String, td : TypeDeclaration<?>) : void
    - emitFieldAssociation(pkg : String, ownerFqn : String, fd : FieldDeclaration) : void
    - emitImplements(pkg : String, subFqn : String, impl : ClassOrInterfaceType) : void
    - emitInheritanceRelations() : void
    - emitInnerClassRelations() : void
    - emitInnerTypes(fqn : String) : void
    - emitRecordParameterAssociation(pkg : String, ownerFqn : String, p : Parameter) : void
  } /' @assis:end class "io.github.masmangan.assis.CollectRelationshipsVisitor" '/
  
  ~class "io.github.masmangan.assis.CollectTypesVisitor" { /' @assis:begin class "io.github.masmangan.assis.CollectTypesVisitor" '/
    - {static} EMPTY_STRING : String {final}
    - {static} FINAL_MODIFIER : String {final}
    - {static} SPACE_STRING : String {final}
    -  pkg : String {final}
    ~ <<create>> CollectTypesVisitor(idx : DeclaredIndex, pkg : String, pw : PlantUMLWriter)
    - assocTypeFrom(ownerFqn : String, vd : VariableDeclarator) : String
    - finalClassStereotypes(td : TypeDeclaration<?>) : String {static}
    - rawTypeName(typeAsString : String) : String {static}
    - typeStereotypes(td : TypeDeclaration<?>) : String {static}
    - emitAnnotationMembers(ad : AnnotationDeclaration) : void
    - emitConstructors(ctors : List<ConstructorDeclaration>) : void
    - emitEnumConstants(ed : EnumDeclaration) : void
    - emitFields(ownerFqn : String, fields : List<FieldDeclaration>) : void
    - emitMethods(methods : List<MethodDeclaration>) : void
    - emitRecordComponents(ownerFqn : String, rd : RecordDeclaration) : void
    ~ emitType(fqn : String, td : TypeDeclaration<?>) : void
    - emitVariableDeclarator(ownerFqn : String, fd : FieldDeclaration, vd : VariableDeclarator) : void
  } /' @assis:end class "io.github.masmangan.assis.CollectTypesVisitor" '/
  
  ~class "io.github.masmangan.assis.DeclaredIndex" { /' @assis:begin class "io.github.masmangan.assis.DeclaredIndex" '/
    - {static} PACKAGE_SEPARATOR : String {final}
    ~  byFqn : Map<String,TypeDeclaration<?>> {final}
    ~  fqnsByPkg : Map<String,List<String>>
    ~ {static} logger : Logger {final}
    ~  pkgByFqn : Map<String,String> {final}
    ~  uniqueBySimple : Map<String,String> {final}
    ~ sortPackagesByNameFqn(byPkg : Map<String,List<String>>) : Map<String,List<String>> {static}
    ~ pumlName(fqn : String) : String {static}
    ~ qPuml(fqn : String) : String {static}
    ~ resolveTypeName(ownerPkg : String, rawName : String) : String
    - collectTypeRecursive(idx : DeclaredIndex, cu : CompilationUnit, td : TypeDeclaration<?>, ownerFqn : String, separator : String) : void {static}
    ~ fill(idx : DeclaredIndex, cus : List<CompilationUnit>) : void {static}
  } /' @assis:end class "io.github.masmangan.assis.DeclaredIndex" '/
  
  +class "io.github.masmangan.assis.GenerateClassDiagram" { /' @assis:begin class "io.github.masmangan.assis.GenerateClassDiagram" '/
    ~ {static} logger : Logger {final}
    - <<create>> GenerateClassDiagram()
    ~ stereotypesOf(n : NodeWithAnnotations<?>) : List<String> {static}
    ~ getFlags(method : MethodDeclaration) : String {static}
    ~ renderStereotypes(ss : List<String>) : String {static}
    ~ simpleName(qname : String) : String {static}
    + versionOrDev() : String {static}
    ~ visibility(n : NodeWithAccessModifiers<?>) : String {static}
    - addHeader(pw : PlantUMLWriter) : void {static}
    + generate(sourceRoots : Set<Path>, outDir : Path) : void {static}
    - scanSourceRoots(sourceRoots : Set<Path>, index : DeclaredIndex, cus : List<CompilationUnit>) : void {static}
    - writeDiagram(out : Path, idx : DeclaredIndex) : void {static}
  } /' @assis:end class "io.github.masmangan.assis.GenerateClassDiagram" '/
  
  ~class "io.github.masmangan.assis.GenerateClassDiagramAnnotationCoverageSampleTest" { /' @assis:begin class "io.github.masmangan.assis.GenerateClassDiagramAnnotationCoverageSampleTest" '/
    ~  tempDir : Path <<TempDir>>
    ~ generatesEnumConstantsInDeclarationOrder() : void <<Test>>
  } /' @assis:end class "io.github.masmangan.assis.GenerateClassDiagramAnnotationCoverageSampleTest" '/
  
  ~class "io.github.masmangan.assis.GenerateClassDiagramAssociationCoverageSamplesTest" { /' @assis:begin class "io.github.masmangan.assis.GenerateClassDiagramAssociationCoverageSamplesTest" '/
    ~  tempDir : Path <<TempDir>>
    ~ generatesAssociationForCrossPackageTypeUsingFqn() : void <<Test>>
    ~ generatesAssociationForEnumField() : void <<Test>>
    ~ generatesAssociationForInterfaceConstantField() : void <<Test>>
    ~ generatesAssociationForSimpleFieldSamePackage() : void <<Test>>
    ~ generatesAssociationStereotypesFromAnnotations() : void <<Test>>
    ~ generatesAssociationsForArrays1dAnd2d() : void <<Test>>
    ~ generatesDiagramContainingAssociation() : void <<Test>>
    ~ rendersGenericFieldButDoesNotCreateAssociationYet() : void <<Test>>
    ~ rendersOptionalFieldAndRecordComponentAsFieldsWithoutAssociationInterpretation() : void <<Test>>
    ~ rendersRecordComponentListAsFieldWithoutAssociationInterpretation() : void <<Test>>
  } /' @assis:end class "io.github.masmangan.assis.GenerateClassDiagramAssociationCoverageSamplesTest" '/
  
  ~class "io.github.masmangan.assis.GenerateClassDiagramCAnnotationSampleTest" { /' @assis:begin class "io.github.masmangan.assis.GenerateClassDiagramCAnnotationSampleTest" '/
    ~ fooSample_rendersAnnotationsOnTypeFieldAndMethod() : void <<Test>>
  } /' @assis:end class "io.github.masmangan.assis.GenerateClassDiagramCAnnotationSampleTest" '/
  
  ~class "io.github.masmangan.assis.GenerateClassDiagramClassModifiersSampleTest" { /' @assis:begin class "io.github.masmangan.assis.GenerateClassDiagramClassModifiersSampleTest" '/
    ~  tempDir : Path <<TempDir>>
    ~ generatesDiagramContainingClassModifiers() : void <<Test>>
  } /' @assis:end class "io.github.masmangan.assis.GenerateClassDiagramClassModifiersSampleTest" '/
  
  ~class "io.github.masmangan.assis.GenerateClassDiagramCompositeSourcePathSampleTest" { /' @assis:begin class "io.github.masmangan.assis.GenerateClassDiagramCompositeSourcePathSampleTest" '/
    ~  tempDir : Path <<TempDir>>
    ~ compositeSourcePath_scansBothRoots_paThenPb() : void <<Test>>
    ~ compositeSourcePath_scansBothRoots_pbThenPa() : void <<Test>>
  } /' @assis:end class "io.github.masmangan.assis.GenerateClassDiagramCompositeSourcePathSampleTest" '/
  
  ~class "io.github.masmangan.assis.GenerateClassDiagramConstructorSampleTest" { /' @assis:begin class "io.github.masmangan.assis.GenerateClassDiagramConstructorSampleTest" '/
    ~ rendersAllConstructorVisibilitiesWithCreateStereotype() : void <<Test>>
  } /' @assis:end class "io.github.masmangan.assis.GenerateClassDiagramConstructorSampleTest" '/
  
  ~class "io.github.masmangan.assis.GenerateClassDiagramDefaultPackageSampleTest" { /' @assis:begin class "io.github.masmangan.assis.GenerateClassDiagramDefaultPackageSampleTest" '/
    ~  tempDir : Path <<TempDir>>
    ~ generatesDiagramContainingDefaultPackageClass() : void <<Test>>
  } /' @assis:end class "io.github.masmangan.assis.GenerateClassDiagramDefaultPackageSampleTest" '/
  
  ~class "io.github.masmangan.assis.GenerateClassDiagramDeterminismSampleTest" { /' @assis:begin class "io.github.masmangan.assis.GenerateClassDiagramDeterminismSampleTest" '/
    ~ twoConsecutiveGenerationsHaveSameOutput() : void <<Test>>
  } /' @assis:end class "io.github.masmangan.assis.GenerateClassDiagramDeterminismSampleTest" '/
  
  ~class "io.github.masmangan.assis.GenerateClassDiagramEntitySampleTest" { /' @assis:begin class "io.github.masmangan.assis.GenerateClassDiagramEntitySampleTest" '/
    ~  tempDir : Path <<TempDir>>
    ~ generatesDiagramContainingEntity() : void <<Test>>
  } /' @assis:end class "io.github.masmangan.assis.GenerateClassDiagramEntitySampleTest" '/
  
  ~class "io.github.masmangan.assis.GenerateClassDiagramEnumCoverageSampleTest" { /' @assis:begin class "io.github.masmangan.assis.GenerateClassDiagramEnumCoverageSampleTest" '/
    ~  tempDir : Path <<TempDir>>
    ~ generatesEnumConstantsInDeclarationOrder() : void <<Test>>
    ~ generatesEnumWithConstructorAndCtorStereotype() : void <<Test>>
    ~ generatesEnumWithFieldAndFieldStereotype() : void <<Test>>
    ~ generatesEnumWithMethodsAndMethodStereotypesIncludingStatic() : void <<Test>>
    ~ generatesEnumWithTypeStereotypeAndOrderedConstants() : void <<Test>>
  } /' @assis:end class "io.github.masmangan.assis.GenerateClassDiagramEnumCoverageSampleTest" '/
  
  ~class "io.github.masmangan.assis.GenerateClassDiagramFieldModifiersSampleTest" { /' @assis:begin class "io.github.masmangan.assis.GenerateClassDiagramFieldModifiersSampleTest" '/
    ~  tempDir : Path <<TempDir>>
    ~ generatesDiagramContainingFieldModifiers() : void <<Test>>
  } /' @assis:end class "io.github.masmangan.assis.GenerateClassDiagramFieldModifiersSampleTest" '/
  
  ~class "io.github.masmangan.assis.GenerateClassDiagramHelloSampleTest" { /' @assis:begin class "io.github.masmangan.assis.GenerateClassDiagramHelloSampleTest" '/
    ~  tempDir : Path <<TempDir>>
    ~ generatesDiagramContainingHelloClass() : void <<Test>>
  } /' @assis:end class "io.github.masmangan.assis.GenerateClassDiagramHelloSampleTest" '/
  
  ~class "io.github.masmangan.assis.GenerateClassDiagramInheritanceSampleTest" { /' @assis:begin class "io.github.masmangan.assis.GenerateClassDiagramInheritanceSampleTest" '/
    ~  tempDir : Path <<TempDir>>
    ~ generatesDiagramContainingInheritance() : void <<Test>>
  } /' @assis:end class "io.github.masmangan.assis.GenerateClassDiagramInheritanceSampleTest" '/
  
  ~class "io.github.masmangan.assis.GenerateClassDiagramInnerTypeSampleTest" { /' @assis:begin class "io.github.masmangan.assis.GenerateClassDiagramInnerTypeSampleTest" '/
    - {static} RESOURCE_PATH : String {final}
    ~  tempDir : Path <<TempDir>>
    ~ generatesNestedTypes_andNestingEdges() : void <<Test>>
  } /' @assis:end class "io.github.masmangan.assis.GenerateClassDiagramInnerTypeSampleTest" '/
  
  ~class "io.github.masmangan.assis.GenerateClassDiagramJlsLexicalTest" { /' @assis:begin class "io.github.masmangan.assis.GenerateClassDiagramJlsLexicalTest" '/
    ~  tempDir : Path <<TempDir>>
    ~ generatesDiagramContainingLexical() : void <<Test>>
  } /' @assis:end class "io.github.masmangan.assis.GenerateClassDiagramJlsLexicalTest" '/
  
  ~class "io.github.masmangan.assis.GenerateClassDiagramMethodModifiersSampleTest" { /' @assis:begin class "io.github.masmangan.assis.GenerateClassDiagramMethodModifiersSampleTest" '/
    ~  tempDir : Path <<TempDir>>
    ~ generatesDiagramContainingMethodModifiers() : void <<Test>>
  } /' @assis:end class "io.github.masmangan.assis.GenerateClassDiagramMethodModifiersSampleTest" '/
  
  ~class "io.github.masmangan.assis.GenerateClassDiagramOrderingSampleTest" { /' @assis:begin class "io.github.masmangan.assis.GenerateClassDiagramOrderingSampleTest" '/
    ~ packageAndTypeOrderingIsDeterministic() : void <<Test>>
  } /' @assis:end class "io.github.masmangan.assis.GenerateClassDiagramOrderingSampleTest" '/
  
  ~class "io.github.masmangan.assis.GenerateClassDiagramPAnnotationSampleTest" { /' @assis:begin class "io.github.masmangan.assis.GenerateClassDiagramPAnnotationSampleTest" '/
    ~ parameterSample_rendersAnnotationsInlineOnParameters() : void <<Test>>
  } /' @assis:end class "io.github.masmangan.assis.GenerateClassDiagramPAnnotationSampleTest" '/
  
  ~class "io.github.masmangan.assis.GenerateClassDiagramRecordAssociationSampleTest" { /' @assis:begin class "io.github.masmangan.assis.GenerateClassDiagramRecordAssociationSampleTest" '/
    ~  tempDir : Path <<TempDir>>
    ~ generatesAssociationFromRecordComponent() : void <<Test>>
  } /' @assis:end class "io.github.masmangan.assis.GenerateClassDiagramRecordAssociationSampleTest" '/
  
  ~class "io.github.masmangan.assis.GenerateClassDiagramRecordAssociationStereotypeSampleTest" { /' @assis:begin class "io.github.masmangan.assis.GenerateClassDiagramRecordAssociationStereotypeSampleTest" '/
    ~  tempDir : Path <<TempDir>>
    ~ generatesAssociationFromRecordComponentWithStereotype() : void <<Test>>
  } /' @assis:end class "io.github.masmangan.assis.GenerateClassDiagramRecordAssociationStereotypeSampleTest" '/
  
  ~class "io.github.masmangan.assis.GenerateClassDiagramRecordNotNullSampleTest" { /' @assis:begin class "io.github.masmangan.assis.GenerateClassDiagramRecordNotNullSampleTest" '/
    ~  tempDir : Path <<TempDir>>
    ~ generatesRecordWithStereotypeOnExternalTypeComponent() : void <<Test>>
  } /' @assis:end class "io.github.masmangan.assis.GenerateClassDiagramRecordNotNullSampleTest" '/
  
  ~class "io.github.masmangan.assis.GenerateClassDiagramRecordPrimitiveStereotypeSampleTest" { /' @assis:begin class "io.github.masmangan.assis.GenerateClassDiagramRecordPrimitiveStereotypeSampleTest" '/
    ~  tempDir : Path <<TempDir>>
    ~ generatesRecordWithStereotypeOnPrimitiveComponent() : void <<Test>>
  } /' @assis:end class "io.github.masmangan.assis.GenerateClassDiagramRecordPrimitiveStereotypeSampleTest" '/
  
  ~class "io.github.masmangan.assis.GenerateClassDiagramRecordTypeSampleTest" { /' @assis:begin class "io.github.masmangan.assis.GenerateClassDiagramRecordTypeSampleTest" '/
    ~  tempDir : Path <<TempDir>>
    ~ generatesRecordWithComponents() : void <<Test>>
  } /' @assis:end class "io.github.masmangan.assis.GenerateClassDiagramRecordTypeSampleTest" '/
  
  ~class "io.github.masmangan.assis.GenerateClassDiagramTypesSampleTest" { /' @assis:begin class "io.github.masmangan.assis.GenerateClassDiagramTypesSampleTest" '/
    ~  tempDir : Path <<TempDir>>
    ~ generatesDiagramContainingTypes() : void <<Test>>
  } /' @assis:end class "io.github.masmangan.assis.GenerateClassDiagramTypesSampleTest" '/
  
  +class "io.github.masmangan.assis.PlantUMLWriter" <<final>> { /' @assis:begin class "io.github.masmangan.assis.PlantUMLWriter" '/
    - {static} COLON_SEPARATOR : String {final}
    - {static} EMPTY_STRING : String {final}
    - {static} HAS_A : String {final}
    - {static} HAS_A_INNER : String {final}
    - {static} INDENT_UNIT : String {final}
    - {static} IS_A_EXTENDS : String {final}
    - {static} IS_A_IMPLEMENTS : String {final}
    - {static} SPACE_STRING : String {final}
    -  activeTag : String
    -  indentLevel : int
    -  out : PrintWriter {final}
    + <<create>> PlantUMLWriter(out : PrintWriter)
    - prefixIfPresent(prefix : String, s : String) : String {static}
    - quote(s : String) : String {static}
    + beginAbstractClass(name : String, visibility : String, stereotypes : String) : void
    + beginAnnotation(name : String, visibility : String, stereotypes : String) : void
    + beginClass(name : String, visibility : String, stereotypes : String) : void
    + beginDiagram(name : String) : void
    + beginEnum(name : String, visibility : String, stereotypes : String) : void
    + beginInterface(name : String, visibility : String, stereotypes : String) : void
    + beginPackage(name : String) : void
    + beginRecord(name : String, visibility : String, stereotypes : String) : void
    - beginType(keyword : String, name : String, visibility : String, stereotypes : String) : void
    - checkName(name : String) : void {static}
    - checkStereotypes(stereotypes : String) : void {static}
    - checkTag(tag : String) : void
    + close() : void <<Override>>
    + connectAssociation(sourceType : String, targetType : String, role : String, stereotypes : String) : void
    + connectExtends(subType : String, superType : String) : void
    + connectImplements(subType : String, superType : String) : void
    + connectInnerType(outerType : String, innerType : String) : void
    + dedent() : void
    + endAbstractClass(name : String) : void
    + endAnnotation(name : String) : void
    + endClass(name : String) : void
    + endDiagram(name : String) : void
    + endEnum(name : String) : void
    + endInterface(name : String) : void
    + endPackage(name : String) : void
    + endRecord(name : String) : void
    - endType(keyword : String, name : String) : void
    + flush() : void
    + indent() : void
    + println() : void
    + println(line : String) : void
    - printlnInternal(line : String) : void
    - requireNotContainsQuote(s : String, label : String) : void {static}
    - requireSingleLine(s : String, label : String) : void {static}
    + withBeforeTag(tag : String, action : Runnable) : void
  } /' @assis:end class "io.github.masmangan.assis.PlantUMLWriter" '/
  
  ~class "io.github.masmangan.assis.PlantUMLWriterTest" { /' @assis:begin class "io.github.masmangan.assis.PlantUMLWriterTest" '/
    ~ associationWithRole() : void <<Test>>
    ~ associationWithRoleAndStereotype() : void <<Test>>
    ~ associationWithRoleAndTag() : void <<Test>>
    ~ beginAndEndDiagramProducesMinimalBlock() : void <<Test>>
    ~ emptyClassInsideDiagramIsProperlyClosed() : void <<Test>>
    ~ emptyClassInsidePackageGetsIndentation() : void <<Test>>
    ~ emptyPackageInsideDiagramIsProperlyClosed() : void <<Test>>
    ~ testPlantUMLWriter() : void <<Test>>
  } /' @assis:end class "io.github.masmangan.assis.PlantUMLWriterTest" '/
  
  ~class "io.github.masmangan.assis.ProcessBuilderSampleTest" { /' @assis:begin class "io.github.masmangan.assis.ProcessBuilderSampleTest" '/
    ~  tempDir : Path <<TempDir>>
    ~ generatesEnumConstantsInDeclarationOrder() : void <<Test>>
  } /' @assis:end class "io.github.masmangan.assis.ProcessBuilderSampleTest" '/
  
  +class "io.github.masmangan.assis.TestWorkbench" { /' @assis:begin class "io.github.masmangan.assis.TestWorkbench" '/
    ~ {static} GALLERY_ROOT : Path {final}
    ~ copySampleProjectToTemp(resourcePath : String, targetDir : Path) : Path {static}
    ~ generatePumlFromSample(resourcePath : String, tempDir : Path, tempFolderName : String) : String {static}
    ~ generatePumlFromSample(rp1 : String, rp2 : String, tempDir : Path, tempFolderName : String) : String {static}
    ~ safeFileName(s : String) : String {static}
    ~ assertAnyLineContainsAll(puml : String, tokens : String) : void {static}
    ~ assertAppearsInOrder(text : String, fragments : String) : void {static}
    ~ assertPumlContains(puml : String, fragment : String) : void {static}
    ~ assertPumlContainsClass(puml : String, name : String) : void {static}
    ~ assertPumlContainsName(puml : String, name : String) : void {static}
    ~ assertPumlContainsPackage(puml : String, name : String) : void {static}
    ~ assertPumlNotContains(puml : String, fragment : String) : void {static}
    ~ deleteRecursively(path : Path) : void {static}
    ~ saveToGallery(generatedPuml : Path, testName : String, fileBaseName : String) : void {static}
  } /' @assis:end class "io.github.masmangan.assis.TestWorkbench" '/
  
} /' @assis:end package "io.github.masmangan.assis" '/

package "io.github.masmangan.assis.deps" { /' @assis:begin package "io.github.masmangan.assis.deps" '/
  
  +class "io.github.masmangan.assis.deps.CollectDependenciesVisitor" <<final>> { /' @assis:begin class "io.github.masmangan.assis.deps.CollectDependenciesVisitor" '/
    -  ownerStack : Deque<TypeDeclaration<?>> {final}
    - owner() : TypeDeclaration<?>
    - collect(from : TypeDeclaration<?>, to : TypeRef, ctx : DependencyContext) : void
    - enter(td : TypeDeclaration<?>) : void
    - exit() : void
    - recordScope(simpleName : String, site : Node, ctx : DependencyContext) : void
    - recordTypeUse(typeNode : Type, site : Node, ctx : DependencyContext) : void
    + visit(n : CastExpr, ctx : DependencyContext) : void <<Override>>
    + visit(n : ClassExpr, ctx : DependencyContext) : void <<Override>>
    + visit(n : ClassOrInterfaceDeclaration, ctx : DependencyContext) : void <<Override>>
    + visit(n : EnumDeclaration, ctx : DependencyContext) : void <<Override>>
    + visit(n : InstanceOfExpr, ctx : DependencyContext) : void <<Override>>
    + visit(n : MethodCallExpr, ctx : DependencyContext) : void <<Override>>
    + visit(n : ObjectCreationExpr, ctx : DependencyContext) : void <<Override>>
    + visit(n : RecordDeclaration, ctx : DependencyContext) : void <<Override>>
  } /' @assis:end class "io.github.masmangan.assis.deps.CollectDependenciesVisitor" '/
  
  +record "io.github.masmangan.assis.deps.DeclaredTypeRef" { /' @assis:begin record "io.github.masmangan.assis.deps.DeclaredTypeRef" '/
    declaration : TypeDeclaration<?>
    + displayName() : String <<Override>>
  } /' @assis:end record "io.github.masmangan.assis.deps.DeclaredTypeRef" '/
  
  +interface "io.github.masmangan.assis.deps.DependencyContext" { /' @assis:begin interface "io.github.masmangan.assis.deps.DependencyContext" '/
    ~ resolveScopeName(simpleName : String, usageSite : Node) : Optional<TypeRef> {abstract}
    ~ resolveTarget(typeNode : Type, usageSite : Node) : Optional<TypeRef> {abstract}
    ~ currentOwner() : TypeDeclaration<?> {abstract}
    ~ hasDependency(from : TypeDeclaration<?>, to : TypeRef) : boolean {abstract}
    ~ addCherryPick(from : TypeDeclaration<?>, to : TypeRef) : void {abstract}
    ~ addDependency(from : TypeDeclaration<?>, to : TypeRef) : void {abstract}
  } /' @assis:end interface "io.github.masmangan.assis.deps.DependencyContext" '/
  
  +record "io.github.masmangan.assis.deps.ExternalTypeRef" { /' @assis:begin record "io.github.masmangan.assis.deps.ExternalTypeRef" '/
    fqn : String
    + displayName() : String <<Override>>
  } /' @assis:end record "io.github.masmangan.assis.deps.ExternalTypeRef" '/
  
  +interface "io.github.masmangan.assis.deps.TypeRef" { /' @assis:begin interface "io.github.masmangan.assis.deps.TypeRef" '/
    ~ displayName() : String {abstract}
  } /' @assis:end interface "io.github.masmangan.assis.deps.TypeRef" '/
  
  +record "io.github.masmangan.assis.deps.UnresolvedTypeRef" { /' @assis:begin record "io.github.masmangan.assis.deps.UnresolvedTypeRef" '/
    name : String
    + displayName() : String <<Override>>
  } /' @assis:end record "io.github.masmangan.assis.deps.UnresolvedTypeRef" '/
  
} /' @assis:end package "io.github.masmangan.assis.deps" '/

package "java.lang" { /' @assis:begin package "java.lang" '/
  
  +class "java.lang.ProcessBuilder" <<final>> { /' @assis:begin class "java.lang.ProcessBuilder" '/
  } /' @assis:end class "java.lang.ProcessBuilder" '/
  
  +abstract class "java.lang.ProcessBuilder$Redirect" { /' @assis:begin abstract class "java.lang.ProcessBuilder$Redirect" '/
  } /' @assis:end abstract class "java.lang.ProcessBuilder$Redirect" '/
  
  +enum "java.lang.ProcessBuilder$Redirect$Type" { /' @assis:begin enum "java.lang.ProcessBuilder$Redirect$Type" '/
  } /' @assis:end enum "java.lang.ProcessBuilder$Redirect$Type" '/
  
} /' @assis:end package "java.lang" '/

package "other" { /' @assis:begin package "other" '/
  
  +class "other.Other" { /' @assis:begin class "other.Other" '/
    + {static} hello : String
  } /' @assis:end class "other.Other" '/
  
} /' @assis:end package "other" '/

package "p1" { /' @assis:begin package "p1" '/
  
  ~class "p1.A" { /' @assis:begin class "p1.A" '/
  } /' @assis:end class "p1.A" '/
  
  ~class "p1.ArraysSample" { /' @assis:begin class "p1.ArraysSample" '/
  } /' @assis:end class "p1.ArraysSample" '/
  
  ~annotation "p1.AssocTag" <<Retention>> <<Target>> { /' @assis:begin annotation "p1.AssocTag" '/
  } /' @assis:end annotation "p1.AssocTag" '/
  
  ~class "p1.B" { /' @assis:begin class "p1.B" '/
  } /' @assis:end class "p1.B" '/
  
  ~class "p1.C" { /' @assis:begin class "p1.C" '/
  } /' @assis:end class "p1.C" '/
  
  ~class "p1.CrossPackage" { /' @assis:begin class "p1.CrossPackage" '/
  } /' @assis:end class "p1.CrossPackage" '/
  
  ~class "p1.D" { /' @assis:begin class "p1.D" '/
  } /' @assis:end class "p1.D" '/
  
  ~class "p1.E" { /' @assis:begin class "p1.E" '/
  } /' @assis:end class "p1.E" '/
  
  ~enum "p1.EnumFieldSample" { /' @assis:begin enum "p1.EnumFieldSample" '/
    ONE
    TWO
  } /' @assis:end enum "p1.EnumFieldSample" '/
  
  ~class "p1.F" { /' @assis:begin class "p1.F" '/
  } /' @assis:end class "p1.F" '/
  
  ~class "p1.FieldStereotype" { /' @assis:begin class "p1.FieldStereotype" '/
  } /' @assis:end class "p1.FieldStereotype" '/
  
  ~class "p1.H" { /' @assis:begin class "p1.H" '/
  } /' @assis:end class "p1.H" '/
  
  ~class "p1.I" { /' @assis:begin class "p1.I" '/
  } /' @assis:end class "p1.I" '/
  
  ~interface "p1.InterfaceConstant" { /' @assis:begin interface "p1.InterfaceConstant" '/
  } /' @assis:end interface "p1.InterfaceConstant" '/
  
  ~class "p1.J" { /' @assis:begin class "p1.J" '/
  } /' @assis:end class "p1.J" '/
  
  ~class "p1.ListField" { /' @assis:begin class "p1.ListField" '/
    ~  ds : List<D>
  } /' @assis:end class "p1.ListField" '/
  
  ~record "p1.ListRecord" { /' @assis:begin record "p1.ListRecord" '/
    es : List<E>
  } /' @assis:end record "p1.ListRecord" '/
  
  ~class "p1.OptionalField" { /' @assis:begin class "p1.OptionalField" '/
    ~  f : Optional<F>
  } /' @assis:end class "p1.OptionalField" '/
  
  ~record "p1.OptionalRecord" { /' @assis:begin record "p1.OptionalRecord" '/
    f : Optional<F>
  } /' @assis:end record "p1.OptionalRecord" '/
  
  ~record "p1.RecordStereotype" { /' @assis:begin record "p1.RecordStereotype" '/
  } /' @assis:end record "p1.RecordStereotype" '/
  
} /' @assis:end package "p1" '/

package "p2" { /' @assis:begin package "p2" '/
  
  +class "p2.G" { /' @assis:begin class "p2.G" '/
  } /' @assis:end class "p2.G" '/
  
} /' @assis:end package "p2" '/

package "pa" { /' @assis:begin package "pa" '/
  
  ~class "pa.A" { /' @assis:begin class "pa.A" '/
  } /' @assis:end class "pa.A" '/
  
} /' @assis:end package "pa" '/

package "pb" { /' @assis:begin package "pb" '/
  
  ~interface "pb.B" { /' @assis:begin interface "pb.B" '/
  } /' @assis:end interface "pb.B" '/
  
} /' @assis:end package "pb" '/

package "samples.association" { /' @assis:begin package "samples.association" '/
  
  ~class "samples.association.Customer" { /' @assis:begin class "samples.association.Customer" '/
  } /' @assis:end class "samples.association.Customer" '/
  
  +class "samples.association.Order" { /' @assis:begin class "samples.association.Order" '/
  } /' @assis:end class "samples.association.Order" '/
  
} /' @assis:end package "samples.association" '/

package "samples.cannotation" { /' @assis:begin package "samples.cannotation" '/
  
  ~class "samples.cannotation.FooTest" <<Deprecated>> { /' @assis:begin class "samples.cannotation.FooTest" '/
    -  name : String <<NotNull>>
    ~ <<create>> FooTest() <<Inject>>
    ~ testFoo() : void <<Test>>
  } /' @assis:end class "samples.cannotation.FooTest" '/
  
} /' @assis:end package "samples.cannotation" '/

package "samples.cmodifiers" { /' @assis:begin package "samples.cmodifiers" '/
  
  ~abstract class "samples.cmodifiers.AbstractClass" { /' @assis:begin abstract class "samples.cmodifiers.AbstractClass" '/
  } /' @assis:end abstract class "samples.cmodifiers.AbstractClass" '/
  
  ~class "samples.cmodifiers.FinalClass" <<final>> { /' @assis:begin class "samples.cmodifiers.FinalClass" '/
  } /' @assis:end class "samples.cmodifiers.FinalClass" '/
  
  ~class "samples.cmodifiers.PlainClass" { /' @assis:begin class "samples.cmodifiers.PlainClass" '/
  } /' @assis:end class "samples.cmodifiers.PlainClass" '/
  
} /' @assis:end package "samples.cmodifiers" '/

package "samples.constructor" { /' @assis:begin package "samples.constructor" '/
  
  +class "samples.constructor.Person" { /' @assis:begin class "samples.constructor.Person" '/
    + <<create>> Person()
    + <<create>> Person(other : Person)
    + <<create>> Person(name : String)
    # <<create>> Person(name : String, age : int)
    ~ <<create>> Person(weight : double)
    - <<create>> Person(age : int)
  } /' @assis:end class "samples.constructor.Person" '/
  
} /' @assis:end package "samples.constructor" '/

package "samples.entity" { /' @assis:begin package "samples.entity" '/
  
  +class "samples.entity.Owner" <<Entity>> { /' @assis:begin class "samples.entity.Owner" '/
  } /' @assis:end class "samples.entity.Owner" '/
  
} /' @assis:end package "samples.entity" '/

package "samples.enums.constructors" { /' @assis:begin package "samples.enums.constructors" '/
  
  +enum "samples.enums.constructors.Flag" { /' @assis:begin enum "samples.enums.constructors.Flag" '/
    A
    B
    -  code : int {final}
    ~ <<create>> Flag(code : int) <<Deprecated>>
  } /' @assis:end enum "samples.enums.constructors.Flag" '/
  
} /' @assis:end package "samples.enums.constructors" '/

package "samples.enums.fields" { /' @assis:begin package "samples.enums.fields" '/
  
  +enum "samples.enums.fields.Color" { /' @assis:begin enum "samples.enums.fields.Color" '/
    RED
    BLUE
    -  rgb : int {final} <<Deprecated>>
    ~ <<create>> Color(rgb : int)
  } /' @assis:end enum "samples.enums.fields.Color" '/
  
} /' @assis:end package "samples.enums.fields" '/

package "samples.enums.methods" { /' @assis:begin package "samples.enums.methods" '/
  
  +enum "samples.enums.methods.Op" { /' @assis:begin enum "samples.enums.methods.Op" '/
    ADD
    SUB
    + parse(s : String) : Op {static} <<Deprecated>>
    + apply(a : int, b : int) : int <<Deprecated>>
  } /' @assis:end enum "samples.enums.methods.Op" '/
  
} /' @assis:end package "samples.enums.methods" '/

package "samples.enums.type" { /' @assis:begin package "samples.enums.type" '/
  
  +enum "samples.enums.type.Choice" <<Deprecated>> { /' @assis:begin enum "samples.enums.type.Choice" '/
    A
    B
  } /' @assis:end enum "samples.enums.type.Choice" '/
  
} /' @assis:end package "samples.enums.type" '/

package "samples.enums.values" { /' @assis:begin package "samples.enums.values" '/
  
  +enum "samples.enums.values.Kind" { /' @assis:begin enum "samples.enums.values.Kind" '/
    CLASS
    INTERFACE
    ENUM
    RECORD
    ANNOTATION
  } /' @assis:end enum "samples.enums.values.Kind" '/
  
} /' @assis:end package "samples.enums.values" '/

package "samples.fmodifiers" { /' @assis:begin package "samples.fmodifiers" '/
  
  +class "samples.fmodifiers.FieldModifiersSample" { /' @assis:begin class "samples.fmodifiers.FieldModifiersSample" '/
    + {static} CONST : String {final}
    -  cache : String {transient}
    - {static} counter : int
    -  dirty : boolean {volatile}
    -  id : int {final}
  } /' @assis:end class "samples.fmodifiers.FieldModifiersSample" '/
  
} /' @assis:end package "samples.fmodifiers" '/

package "samples.hello" { /' @assis:begin package "samples.hello" '/
  
  +class "samples.hello.Hello" { /' @assis:begin class "samples.hello.Hello" '/
    + main(args : String[]) : void {static}
  } /' @assis:end class "samples.hello.Hello" '/
  
} /' @assis:end package "samples.hello" '/

package "samples.inheritance" { /' @assis:begin package "samples.inheritance" '/
  
  ~interface "samples.inheritance.A" { /' @assis:begin interface "samples.inheritance.A" '/
  } /' @assis:end interface "samples.inheritance.A" '/
  
  ~interface "samples.inheritance.B" { /' @assis:begin interface "samples.inheritance.B" '/
  } /' @assis:end interface "samples.inheritance.B" '/
  
  ~class "samples.inheritance.Base" { /' @assis:begin class "samples.inheritance.Base" '/
  } /' @assis:end class "samples.inheritance.Base" '/
  
  ~class "samples.inheritance.Child" { /' @assis:begin class "samples.inheritance.Child" '/
  } /' @assis:end class "samples.inheritance.Child" '/
  
  ~enum "samples.inheritance.E" { /' @assis:begin enum "samples.inheritance.E" '/
  } /' @assis:end enum "samples.inheritance.E" '/
  
} /' @assis:end package "samples.inheritance" '/

package "samples.inner" { /' @assis:begin package "samples.inner" '/
  
  ~class "samples.inner.A" { /' @assis:begin class "samples.inner.A" '/
  } /' @assis:end class "samples.inner.A" '/
  
  ~class "samples.inner.A$B" { /' @assis:begin class "samples.inner.A$B" '/
  } /' @assis:end class "samples.inner.A$B" '/
  
  ~class "samples.inner.A$B$C" { /' @assis:begin class "samples.inner.A$B$C" '/
  } /' @assis:end class "samples.inner.A$B$C" '/
  
  +class "samples.inner.SimpleInner" { /' @assis:begin class "samples.inner.SimpleInner" '/
  } /' @assis:end class "samples.inner.SimpleInner" '/
  
  ~enum "samples.inner.SimpleInner$E" { /' @assis:begin enum "samples.inner.SimpleInner$E" '/
    X
    Y
  } /' @assis:end enum "samples.inner.SimpleInner$E" '/
  
} /' @assis:end package "samples.inner" '/

package "samples.mmodifiers" { /' @assis:begin package "samples.mmodifiers" '/
  
  ~abstract class "samples.mmodifiers.AbstractMethods" { /' @assis:begin abstract class "samples.mmodifiers.AbstractMethods" '/
    + abstractMethod() : void {abstract}
  } /' @assis:end abstract class "samples.mmodifiers.AbstractMethods" '/
  
  ~class "samples.mmodifiers.ConcreteMethods" { /' @assis:begin class "samples.mmodifiers.ConcreteMethods" '/
    + finalMethod() : void {final}
    + normalMethod() : void
    + staticMethod() : void {static}
  } /' @assis:end class "samples.mmodifiers.ConcreteMethods" '/
  
} /' @assis:end package "samples.mmodifiers" '/

package "samples.ordering.p1" { /' @assis:begin package "samples.ordering.p1" '/
  
  +class "samples.ordering.p1.A" { /' @assis:begin class "samples.ordering.p1.A" '/
  } /' @assis:end class "samples.ordering.p1.A" '/
  
  +class "samples.ordering.p1.B" { /' @assis:begin class "samples.ordering.p1.B" '/
  } /' @assis:end class "samples.ordering.p1.B" '/
  
} /' @assis:end package "samples.ordering.p1" '/

package "samples.ordering.p2" { /' @assis:begin package "samples.ordering.p2" '/
  
  +class "samples.ordering.p2.C" { /' @assis:begin class "samples.ordering.p2.C" '/
  } /' @assis:end class "samples.ordering.p2.C" '/
  
} /' @assis:end package "samples.ordering.p2" '/

package "samples.pannotation" { /' @assis:begin package "samples.pannotation" '/
  
  +class "samples.pannotation.SampleController" { /' @assis:begin class "samples.pannotation.SampleController" '/
    + <<create>> SampleController(id : int)
    + show(<<PathVariable>> id : int, <<NotNull>> <<RequestParam>> q : String) : String
  } /' @assis:end class "samples.pannotation.SampleController" '/
  
} /' @assis:end package "samples.pannotation" '/

package "samples.rannotation" { /' @assis:begin package "samples.rannotation" '/
  
  +record "samples.rannotation.Point" { /' @assis:begin record "samples.rannotation.Point" '/
    px : int <<Deprecated>>
    py : int
  } /' @assis:end record "samples.rannotation.Point" '/
  
} /' @assis:end package "samples.rannotation" '/

package "samples.rassociation" { /' @assis:begin package "samples.rassociation" '/
  
  ~class "samples.rassociation.Name" { /' @assis:begin class "samples.rassociation.Name" '/
  } /' @assis:end class "samples.rassociation.Name" '/
  
  +record "samples.rassociation.OwnerDto" { /' @assis:begin record "samples.rassociation.OwnerDto" '/
    id : int
  } /' @assis:end record "samples.rassociation.OwnerDto" '/
  
} /' @assis:end package "samples.rassociation" '/

package "samples.records" { /' @assis:begin package "samples.records" '/
  
  ~class "samples.records.Outer" { /' @assis:begin class "samples.records.Outer" '/
  } /' @assis:end class "samples.records.Outer" '/
  
  ~class "samples.records.Outer$Inner" { /' @assis:begin class "samples.records.Outer$Inner" '/
  } /' @assis:end class "samples.records.Outer$Inner" '/
  
  +record "samples.records.Point" { /' @assis:begin record "samples.records.Point" '/
    x : int
    y : int
  } /' @assis:end record "samples.records.Point" '/
  
  ~record "samples.records.R" { /' @assis:begin record "samples.records.R" '/
  } /' @assis:end record "samples.records.R" '/
  
} /' @assis:end package "samples.records" '/

package "samples.rnull" { /' @assis:begin package "samples.rnull" '/
  
  +record "samples.rnull.OwnerDto" { /' @assis:begin record "samples.rnull.OwnerDto" '/
    id : int
    name : String <<NotNull>>
  } /' @assis:end record "samples.rnull.OwnerDto" '/
  
} /' @assis:end package "samples.rnull" '/

package "samples.rstereo" { /' @assis:begin package "samples.rstereo" '/
  
  ~class "samples.rstereo.Customer" { /' @assis:begin class "samples.rstereo.Customer" '/
  } /' @assis:end class "samples.rstereo.Customer" '/
  
  +record "samples.rstereo.Order" { /' @assis:begin record "samples.rstereo.Order" '/
  } /' @assis:end record "samples.rstereo.Order" '/
  
} /' @assis:end package "samples.rstereo" '/

package "samples.types" { /' @assis:begin package "samples.types" '/
  
  ~annotation "samples.types.Annotation" { /' @assis:begin annotation "samples.types.Annotation" '/
  } /' @assis:end annotation "samples.types.Annotation" '/
  
  ~class "samples.types.Class" { /' @assis:begin class "samples.types.Class" '/
  } /' @assis:end class "samples.types.Class" '/
  
  ~enum "samples.types.Enumeration" { /' @assis:begin enum "samples.types.Enumeration" '/
  } /' @assis:end enum "samples.types.Enumeration" '/
  
  ~interface "samples.types.Interface" { /' @assis:begin interface "samples.types.Interface" '/
  } /' @assis:end interface "samples.types.Interface" '/
  
  ~record "samples.types.Record" { /' @assis:begin record "samples.types.Record" '/
  } /' @assis:end record "samples.types.Record" '/
  
} /' @assis:end package "samples.types" '/

package "testPackage" { /' @assis:begin package "testPackage" '/
  
  ~class "testPackage.Other" { /' @assis:begin class "testPackage.Other" '/
    ~ {static} hello : String
  } /' @assis:end class "testPackage.Other" '/
  
  ~class "testPackage.Test" { /' @assis:begin class "testPackage.Test" '/
    + main(args : String[]) : void {static}
  } /' @assis:end class "testPackage.Test" '/
  
} /' @assis:end package "testPackage" '/


"E" ..|> "I"
/' @assis:cherry-pick ghost "io.github.masmangan.assis.PlantUMLWriter" ..|> "AutoCloseable" '/
/' @assis:cherry-pick ghost "io.github.masmangan.assis.deps.CollectDependenciesVisitor" --|> "VoidVisitorAdapter" '/
"samples.inheritance.B" --|> "samples.inheritance.A"
"samples.inheritance.Child" --|> "samples.inheritance.Base"
"samples.inheritance.Child" ..|> "samples.inheritance.B"
"samples.inheritance.E" ..|> "samples.inheritance.A"
"java.lang.ProcessBuilder" +-- "java.lang.ProcessBuilder$Redirect"
"java.lang.ProcessBuilder$Redirect" +-- "java.lang.ProcessBuilder$Redirect$Type"
"samples.inner.SimpleInner" +-- "samples.inner.SimpleInner$E"
"samples.inner.A" +-- "samples.inner.A$B"
"samples.inner.A$B" +-- "samples.inner.A$B$C"
"samples.records.Outer" +-- "samples.records.Outer$Inner"
"io.github.masmangan.assis.CollectRelationshipsVisitor" ---> "idx" "io.github.masmangan.assis.DeclaredIndex"
"io.github.masmangan.assis.CollectRelationshipsVisitor" ---> "pw" "io.github.masmangan.assis.PlantUMLWriter"
"io.github.masmangan.assis.CollectTypesVisitor" ---> "idx" "io.github.masmangan.assis.DeclaredIndex"
"io.github.masmangan.assis.CollectTypesVisitor" ---> "pw" "io.github.masmangan.assis.PlantUMLWriter"
"p1.A" ---> "b" "p1.B"
"p1.ArraysSample" ---> "cs" "p1.C"
"p1.ArraysSample" ---> "matrix" "p1.C"
"p1.CrossPackage" ---> "g" "p2.G"
"p1.EnumFieldSample" ---> "h" "p1.H"
"p1.FieldStereotype" ---> "x" "p1.J" : <<AssocTag>>
"p1.InterfaceConstant" ---> "DEFAULT" "p1.I"
"p1.RecordStereotype" ---> "y" "p1.J" : <<AssocTag>>
"samples.association.Order" ---> "buyer" "samples.association.Customer"
"samples.rassociation.OwnerDto" ---> "name" "samples.rassociation.Name"
"samples.records.R" ---> "x" "samples.records.Outer$Inner"
"samples.rstereo.Order" ---> "customer" "samples.rstereo.Customer" : <<Deprecated>>

@enduml

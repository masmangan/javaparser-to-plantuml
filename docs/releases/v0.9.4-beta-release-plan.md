# ASSIS v0.9.4-beta â€“ Release Plan

> Status: Draft / In Progress  
> Baseline: ASSIS v0.9.4  
> Last updated: 2026-01-13

This document describes the concrete steps to release **ASSIS v0.9.4-beta**.
It is intentionally procedural and pragmatic.  
Testing strategy and execution are documented separately.

---

## 1. Scope and Intent

ASSIS v0.9.4-beta is released **as is**, with the following acknowledgement:

- Static analysis tools (e.g. Sonar) may report outstanding issues.
- The goal of this release is **distribution, feedback, and evidence collection**, not feature completeness.

No new features are added specifically for this release.

---

## 2. Preconditions

Before starting the release:

- Working tree **must be clean**
- All modules must build consistently in the monorepo
- Java and Maven versions must be known and reproducible

Ensure the current working directory is the ASSIS monorepo root (parent folder):

```bash
pwd
```

If it is not, `cd` to the parent folder before proceeding.

Verify that the area is clean and tests are green:

```bash
git status
mvn -q clean test
```

CI signal (informational gate):

This project has no stand alone build/test workflow.
Build and test steps are executed as part of the CodeQL and Sonar GitHub Actions.

- If the overall workflow is **green**, proceed.
- If the overall workflow is **red**, inspect the logs:
  - If the failure is in **build or tests**, **stop** the release.
  - If the failure is only in **CodeQL or Sonar analysis**, proceed for v0.9.4-beta.

## 3. Smoke Test

Use ASSIS to extract assis-core class diagram.

On ASSIS parent folder.

```bash
mvn -q clean package
cd assis-cli
java -jar target/assis-cli-0.9.4-SNAPSHOT.jar -sourcepath ../assis-core
java -jar target/assis-cli-0.9.4-SNAPSHOT.jar -version
```
Check generated files:

```bash
open docs/diagrams/src/class-diagram.puml
plantuml --svg docs/diagrams/src/class-diagram.puml
open docs/diagrams/src/class-diagram.svg
```

If the diagrams are empty, mal-formed or unredendered as SVG, **stop**.

---

## 3. Tag Safety Check (Pre-release)

Before changing any versions, verify that the release tag does not already exist
and that its format matches previous releases.

### 3.1 Inspect existing tags

Ensure tag naming matches existing conventions:

```bash
git fetch --tags
git tag --list | sort -V
```

Expected format: `vX.Y.Z`

### 3.2 Ensure tag does not already exist

Verify that the intended tag (e.g. `v0.9.4-beta`) does not exist:

```bash
git tag --list v0.9.4-beta
```

If the tag already exists, **stop** and investigate before proceeding.

---

## 4. Version Bump to Release Version

Ensure the current working directory is the ASSIS monorepo root (parent folder):

```bash
pwd
```

If it is not, `cd` to the parent folder before proceeding.

Use Maven to update project version inside each `pom.xml`:

```bash
mvn versions:set -DnewVersion=0.9.4-beta
mvn versions:commit
```

Commit the version bump:

```bash
git commit -am "Release 0.9.4-beta"
```

---

## 5. Tagging the Release

Create annotated tag:

```bash
git tag -a v0.9.4-beta -m "ASSIS v0.9.4-beta"
```

Verify:

```bash
git show v0.9.4-beta
```
If the tag was not created, **stop** and investigate before proceeding.

---

## 6. Push Commit and Tag

Push commit first, then tag:

```bash
git push origin main
git push origin v0.9.4-beta
```

Optional sanity check:

```bash
git describe --tags --dirty
```

Expected output:

```
v0.9.4-beta-dirty
```

If the output is not as expected, **stop** and investigate before proceeding.

---

## 7. Build Release Artifacts

From a clean state:

```bash
mvn -q clean package
```

Verify ASSIS CLI JAR is produced:
```bash
ls assis-cli/target/assis-cli-0.9.4-beta.jar
```

Run the client and check version:
```bash
javar -jar assis-cli/target/assis-cli-0.9.4-beta.jar --version
```
- Version v0.9.4-beta expected
- No unexpected build-time, run-time failures

If there are failures, **stop** and investigate before proceeding.

---

## 8. GitHub Release (Manual)

Create a GitHub Release for tag `v0.9.4-beta`.

Actions:
- Upload release artifact (JAR): `assis-cli-0.9.4-beta.jar`
- Add release notes:

Scope:
- Added ghost tag on unparsed body extends and implements end to ease UNIX tools slicing and dicing.
- ASSIS CLI now supports a `-sourcepath` list parameter.
- Diagrams are now inside a PlantUML mainframe.
- Reporting role name on associations; longer association lines.
- Solves missing } on type blocks (BUG #37).

Known limitations:
- Know issues involving folder names that contain "-", e.g. maven-core (BUG #38)
- Dependencies between types are not rendered.
- Type rendering development is ongoing, driven by parse-and-sample needs.
- Type association unwrapping is ongoing, driven by parse-and-sample needs.

Testing:
- See `docs/releases/v0.9.4-beta-test-plan.md`

Do **not** include large test artifacts here unless explicitly intended.

If needed, review commit history since v0.9.3 to confirm scope:

```bash
git log --oneline
```

---

## 9. Post-Release: Bump to Next SNAPSHOT

Immediately after release, reopen development:

```bash
mvn versions:set -DnewVersion=0.9.5-SNAPSHOT
mvn versions:commit
```

Verify:

```bash
mvn -q clean verify
```

Commit and push:

```bash
git commit -am "Bump version to 0.9.5-SNAPSHOT"
git push origin main
```

---

## 10. Continuous Integration Check

After pushing the SNAPSHOT bump:

- Review GitHub Actions runs
- Investigate any failures immediately
- Pay special attention to:
  - dependency resolution
  - version mismatches
  - Java version configuration

---

## 11. Out of Scope

Explicitly out of scope for this release:
- Feature testing
- Performance optimization
- Static analysis cleanup
- Large-scale refactoring

These concerns are tracked separately.

---

End of document.
